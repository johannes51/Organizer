(function(e){function t(t){for(var r,s,i=t[0],c=t[1],l=t[2],d=0,f=[];d<i.length;d++)s=i[d],n[s]&&f.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={app:0},o=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("64a9"),n=a.n(r);n.a},"1b10":function(e,t,a){"use strict";var r=a("ba64"),n=a.n(r);n.a},2981:function(e,t,a){var r={"./af":"f826","./af.js":"f826","./ar":"0fa2","./ar-dz":"8ec6","./ar-dz.js":"8ec6","./ar-kw":"36f4","./ar-kw.js":"36f4","./ar-ly":"0e86","./ar-ly.js":"0e86","./ar-ma":"3d3d","./ar-ma.js":"3d3d","./ar-sa":"cfe1","./ar-sa.js":"cfe1","./ar-tn":"0608","./ar-tn.js":"0608","./ar.js":"0fa2","./az":"9cec","./az.js":"9cec","./be":"609d","./be.js":"609d","./bg":"3f4f","./bg.js":"3f4f","./bm":"43e9","./bm.js":"43e9","./bn":"d345","./bn.js":"d345","./bo":"fe43","./bo.js":"fe43","./br":"927d","./br.js":"927d","./bs":"1808","./bs.js":"1808","./ca":"2a24","./ca.js":"2a24","./cs":"8bb4","./cs.js":"8bb4","./cv":"1788","./cv.js":"1788","./cy":"8cb6","./cy.js":"8cb6","./da":"9fca","./da.js":"9fca","./de":"3f20","./de-at":"a8f1","./de-at.js":"a8f1","./de-ch":"2b68","./de-ch.js":"2b68","./de.js":"3f20","./dv":"6a7c","./dv.js":"6a7c","./el":"7f03","./el.js":"7f03","./en-au":"e33b","./en-au.js":"e33b","./en-ca":"563d","./en-ca.js":"563d","./en-gb":"6e59","./en-gb.js":"6e59","./en-ie":"a02d","./en-ie.js":"a02d","./en-il":"2dd2","./en-il.js":"2dd2","./en-nz":"2e16","./en-nz.js":"2e16","./eo":"3645","./eo.js":"3645","./es":"8669","./es-do":"1ef1","./es-do.js":"1ef1","./es-us":"2adb","./es-us.js":"2adb","./es.js":"8669","./et":"7672","./et.js":"7672","./eu":"666c","./eu.js":"666c","./fa":"691e","./fa.js":"691e","./fi":"b486","./fi.js":"b486","./fo":"60e4","./fo.js":"60e4","./fr":"bc2c","./fr-ca":"028a","./fr-ca.js":"028a","./fr-ch":"de9b","./fr-ch.js":"de9b","./fr.js":"bc2c","./fy":"de08","./fy.js":"de08","./gd":"680a","./gd.js":"680a","./gl":"3a5c","./gl.js":"3a5c","./gom-latn":"9bbd","./gom-latn.js":"9bbd","./gu":"3123","./gu.js":"3123","./he":"a3bb","./he.js":"a3bb","./hi":"74d5","./hi.js":"74d5","./hr":"3d1a","./hr.js":"3d1a","./hu":"8930","./hu.js":"8930","./hy-am":"5368","./hy-am.js":"5368","./id":"4d1d","./id.js":"4d1d","./is":"d8c2","./is.js":"d8c2","./it":"b571","./it.js":"b571","./ja":"f409","./ja.js":"f409","./jv":"24ca","./jv.js":"24ca","./ka":"57b4","./ka.js":"57b4","./kk":"7af1","./kk.js":"7af1","./km":"368b","./km.js":"368b","./kn":"c931","./kn.js":"c931","./ko":"8472","./ko.js":"8472","./ky":"7229","./ky.js":"7229","./lb":"febd","./lb.js":"febd","./lo":"b36b","./lo.js":"b36b","./lt":"2654","./lt.js":"2654","./lv":"6e31","./lv.js":"6e31","./me":"f72d","./me.js":"f72d","./mi":"2bcd","./mi.js":"2bcd","./mk":"c0de","./mk.js":"c0de","./ml":"e75d","./ml.js":"e75d","./mr":"a76b","./mr.js":"a76b","./ms":"2bf0","./ms-my":"2b02","./ms-my.js":"2b02","./ms.js":"2bf0","./mt":"e717","./mt.js":"e717","./my":"e2e2","./my.js":"e2e2","./nb":"bdfc","./nb.js":"bdfc","./ne":"75c0","./ne.js":"75c0","./nl":"3e8e","./nl-be":"de3b","./nl-be.js":"de3b","./nl.js":"3e8e","./nn":"90a3","./nn.js":"90a3","./pa-in":"bf7a","./pa-in.js":"bf7a","./pl":"210f","./pl.js":"210f","./pt":"12e3","./pt-br":"294f","./pt-br.js":"294f","./pt.js":"12e3","./ro":"7a04","./ro.js":"7a04","./ru":"75cb","./ru.js":"75cb","./sd":"f957","./sd.js":"f957","./se":"4169","./se.js":"4169","./si":"951b","./si.js":"951b","./sk":"1c1d","./sk.js":"1c1d","./sl":"eb2c","./sl.js":"eb2c","./sq":"7c7d","./sq.js":"7c7d","./sr":"5f14","./sr-cyrl":"20a0","./sr-cyrl.js":"20a0","./sr.js":"5f14","./ss":"3a89","./ss.js":"3a89","./sv":"87ac","./sv.js":"87ac","./sw":"91c3","./sw.js":"91c3","./ta":"41cd","./ta.js":"41cd","./te":"5a49","./te.js":"5a49","./tet":"0e56","./tet.js":"0e56","./tg":"2495","./tg.js":"2495","./th":"db96","./th.js":"db96","./tl-ph":"b593","./tl-ph.js":"b593","./tlh":"04f0","./tlh.js":"04f0","./tr":"d11d","./tr.js":"d11d","./tzl":"6da8","./tzl.js":"6da8","./tzm":"11af","./tzm-latn":"2eac","./tzm-latn.js":"2eac","./tzm.js":"11af","./ug-cn":"f551","./ug-cn.js":"f551","./uk":"89a5","./uk.js":"89a5","./ur":"faa7","./ur.js":"faa7","./uz":"c23b","./uz-latn":"d399","./uz-latn.js":"d399","./uz.js":"c23b","./vi":"6811","./vi.js":"6811","./x-pseudo":"52a9","./x-pseudo.js":"52a9","./yo":"f28c","./yo.js":"f28c","./zh-cn":"39cf","./zh-cn.js":"39cf","./zh-hk":"25ad","./zh-hk.js":"25ad","./zh-tw":"2dba","./zh-tw.js":"2dba"};function n(e){var t=o(e);return a(t)}function o(e){var t=r[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}n.keys=function(){return Object.keys(r)},n.resolve=o,e.exports=n,n.id="2981"},"56d7":function(e,t,a){"use strict";a.r(t);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf");var r=a("2b0e"),n=a("bc3a"),o=a.n(n),s={},i=o.a.create(s);i.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),i.interceptors.response.use(function(e){return e},function(e){return Promise.reject(e)}),Plugin.install=function(e,t){e.axios=i,window.axios=i,Object.defineProperties(e.prototype,{axios:{get:function(){return i}},$axios:{get:function(){return i}}})},r["default"].use(Plugin);Plugin;var c=a("9f7b"),l=a.n(c);a("ab8b"),a("2dd8");r["default"].use(l.a);var u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Header"),a("router-view")],1)},d=[],f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-navbar",{attrs:{fixed:"top",toggleable:"lg",type:"light",variant:"light"}},[a("div",{staticClass:"navbar-header"},[a("b-navbar-toggle",{attrs:{target:"nav-collapse"}},[a("span",{staticClass:"sr-only"},[e._v("Toggle Navigation")])]),a("b-navbar-brand",{attrs:{to:"/"}},[e._v("Mehrdraufhaber Productions")])],1),a("b-collapse",{attrs:{id:"navbar-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{to:"/projects"}},[e._v("Projekte")]),a("b-nav-item",{attrs:{to:"/diary"}},[e._v("Tagebuch")]),a("b-nav-item",{attrs:{to:"/media"}},[e._v("Filmliste")]),a("b-nav-item",{attrs:{to:"/watchlist"}},[e._v("Watchlist")]),a("b-nav-item",{attrs:{to:"/loans"}},[e._v("Leihliste")])],1),a("b-navbar-nav",{staticClass:"ml-auto"},[e.isLoggedIn?[a("b-nav-item-dropdown",{attrs:{text:e.currentUser.name,right:""}},[a("b-dropdown-item",{attrs:{href:"#!"},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[a("i",{staticClass:"fa fa-btn fa-sign-out"}),e._v("Logout\n          ")])],1)]:[a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[e._v("Login")])],1),a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/register"}},[e._v("Register")])],1)]],2)],1)],1)},m=[],p={name:"Header",methods:{logout:function(){this.$store.commit("logout"),this.$router.push({path:"/"})}},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},currentUser:function(){return this.$store.getters.currentUser}}},h=p,b=a("2877"),v=Object(b["a"])(h,f,m,!1,null,null,null),g=v.exports;function j(e,t){t.beforeEach(function(t,a,r){var n=t.matched.some(function(e){return e.meta.requiresAuth}),o=e.getters.isLoggedIn;n&&!o?r("/login"):"/login"==t.path&&o?r("/"):r()}),window.axios.interceptors.response.use(null,function(a){return 401==a.response.status&&(e.commit("logout"),t.push("/login")),Promise.reject(a)})}function _(e){e.dispatch("loadProjects"),e.dispatch("loadLoans"),e.dispatch("loadPlannedMedia"),e.dispatch("loadDiary"),e.dispatch("loadMedia")}var y={name:"App",components:{Header:g},mounted:function(){var e=this;this.$store.dispatch("loadUser").then(function(){_(e.$store),"serverRoute"in Window?e.$router.push({path:Window.serverRoute}):e.$router.push({path:"/"})})}},k=y,w=(a("034f"),Object(b["a"])(k,u,d,!1,null,null,null)),C=w.exports,x=a("8c4f"),$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Projects")},P=[],O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[null==e.currentProject?a("List",{on:{"project-selected":e.show}}):e._e(),null!=e.currentProject?a("Show",{attrs:{project:e.currentProject},on:{done:e.unShow}}):e._e()],1)},S=[],L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list"},[a("h2",[e._v("Projekte")]),a("b-table",{attrs:{id:"projects-table",items:e.items,fields:e.fields,small:"",striped:"",hover:""},on:{"row-clicked":e.showProject}})],1)},E=[],M={name:"List",computed:{items:function(){return this.$store.getters.projects},rows:function(){return this.items.length},fields:function(){return{name:{label:"Name",sortable:!0},customer:{label:"Auftraggeber",sortable:!0},status:{label:"Status",sortable:!0},created_at:{label:"Beginn",sortable:!0},updated_at:{label:"Letzte Ã„nderung",sortable:!0}}}},methods:{showProject:function(e){this.$emit("project-selected",e.id)}}},A=M,F=(a("7130"),Object(b["a"])(A,L,E,!1,null,null,null)),z=F.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("Summary",{attrs:{data:e.summary}}),a("b-button",{on:{click:e.back}},[e._v("ZurÃ¼ck")])],1),a("div",{staticClass:"col-lg-7"},[a("Diary",{attrs:{diary:e.diary}})],1)])])},D=[],I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"border border-primary"},[a("h3",[e._v("Zusammenfassung")]),a("p",[a("b",[e._v("Name:")]),e._v(" "+e._s(e.data.name)+"\n  ")]),a("p",[a("b",[e._v("Auftraggeber:")]),e._v(" "+e._s(e.data.customer)+"\n  ")]),a("p",[a("b",[e._v("Status:")]),e._v(" "+e._s(e.data.status)+"\n  ")]),a("p",[a("b",[e._v("Beginn:")]),e._v(" "+e._s(e._f("formatDate")(e.data.created_at))+"\n  ")]),a("p",[a("b",[e._v("Letzte Ã„nderung:")]),e._v(" "+e._s(e._f("formatDate")(e.data.updated_at))+"\n  ")])])},T=[],U={name:"Summary",props:["data"]},W=U,R=Object(b["a"])(W,I,T,!1,null,null,null),B=R.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("h3",[e._v("Tagebuch")]),null==e.currentEntry?a("List",{attrs:{items:e.diary.entries}}):e._e(),null!=e.currentEntry?a("Add",{attrs:{entry:e.currentEntry},on:{done:e.add}}):e._e(),null==e.currentEntry?a("b-button",{on:{click:function(t){e.currentEntry={text:""}}}},[e._v("Neu")]):e._e()],1)},q=[],V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-table",{attrs:{items:e.items,fields:e.fields}})},G=[],J={name:"List",props:["items"],data:function(){return{fields:{text:{label:"Text"},created_at:{label:"Datum"}}}}},Y=J,Z=Object(b["a"])(Y,V,G,!1,null,null,null),K=Z.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("b-form-group",{attrs:{label:"Tagebucheintrag"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.entry.text,expression:"entry.text"}],staticClass:"form-control",attrs:{type:"textarea"},domProps:{value:e.entry.text},on:{input:function(t){t.target.composing||e.$set(e.entry,"text",t.target.value)}}})]),a("b-button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[e._v("Ok")]),a("b-button",{attrs:{variant:"warning"},on:{click:e.cancel}},[e._v("Cancel")])],1)])},X=[],ee={name:"Add",props:["entry"],methods:{submit:function(){this.$emit("done",this.$props.entry)},cancel:function(){this.$emit("done")}}},te=ee,ae=Object(b["a"])(te,Q,X,!1,null,null,null),re=ae.exports,ne={name:"Diary",props:["diary"],components:{Add:re,List:K},data:function(){return{currentEntry:null}},methods:{add:function(e){e&&(e.diaryId=this.$props.diary.id,this.$store.dispatch("saveDiaryEntry",e)),this.$data.currentEntry=null}}},oe=ne,se=Object(b["a"])(oe,H,q,!1,null,null,null),ie=se.exports,ce={name:"Show",components:{Summary:B,Diary:ie},props:["project"],computed:{summary:function(){return this.$props.project},diary:function(){return this.$props.project.diary}},methods:{back:function(){this.$emit("done")}}},le=ce,ue=Object(b["a"])(le,N,D,!1,null,null,null),de=ue.exports,fe=a("2f62");function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){pe(e,t,a[t])})}return e}function pe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var he={name:"Projects",components:{List:z,Show:de},computed:me({},Object(fe["b"])(["currentProject"])),methods:{show:function(e){this.$store.dispatch("loadProject",e)},unShow:function(){this.$store.dispatch("unloadProject")}}},be=he,ve=Object(b["a"])(be,O,S,!1,null,null,null),ge=ve.exports,je={name:"ProjectsView",components:{Projects:ge}},_e=je,ye=Object(b["a"])(_e,$,P,!1,null,null,null),ke=ye.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("LoginForm")},Ce=[],xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login row justify-content-center"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("Login")]),a("div",{staticClass:"card-body"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.authenticate(t)}}},[a("div",{staticClass:"form group row"},[a("label",{attrs:{for:"email"}},[e._v("E-Mail:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email-Adresse"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})]),a("div",{staticClass:"form group row"},[a("label",{attrs:{for:"password"}},[e._v("Passwort:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Passwort"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})]),e._m(0),e.authError?a("div",{staticClass:"form-group row"},[a("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[e._v(e._s(e.authError))])]):e._e()])])])])},$e=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form group row"},[a("input",{attrs:{type:"submit",value:"Login"}})])}],Pe={name:"LoginForm",data:function(){return{form:{email:"",password:""}}},methods:{authenticate:function(){var e=this;this.$store.commit("login"),this.$axios.post("/api/login",this.$data.form).then(function(t){e.$store.commit("loginSuccess",t.data),_(e.$store),e.$router.push({path:"/"})}).catch(function(t){e.$store.commit("loginFail",{error:t})})}},computed:{authError:function(){return this.$store.getters.authError}}},Oe=Pe,Se=Object(b["a"])(Oe,xe,$e,!1,null,null,null),Le=Se.exports,Ee={name:"LoginView",components:{LoginForm:Le}},Me=Ee,Ae=Object(b["a"])(Me,we,Ce,!1,null,null,null),Fe=Ae.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!=e.diary?a("Diary",{attrs:{diary:e.diary}}):e._e()},Ne=[],De={name:"DiaryView",components:{Diary:ie},computed:Object(fe["b"])(["diary"])},Ie=De,Te=Object(b["a"])(Ie,ze,Ne,!1,null,null,null),Ue=Te.exports,We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Loans")},Re=[],Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("div",{staticClass:"row justify-content-center"},[e.currentItem.set?e._e():a("form",{on:{submit:function(t){return t.preventDefault(),e.add(t)}}},[e._m(0)]),e.currentItem.set?a("Edit",{attrs:{item:e.currentItem},on:{done:e.done}}):e._e()],1),e.currentItem.set?e._e():a("List",{on:{"loan-selected":e.edit}})],1)},He=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form row"},[a("input",{staticClass:"form-control",attrs:{type:"submit",value:"Neu"}})])}],qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-justify-center row"},[a("b-table",{attrs:{id:"loans-table",items:e.items,fields:e.fields,small:"",striped:""},on:{"row-clicked":e.editLoan}}),a("div",{staticClass:"row"},[e._v(e._s(this.bla))])],1)},Ve=[],Ge={name:"List",data:function(){return{perPage:10,fields:{item:{label:"Gegenstand"},whitWHOM:{label:"von/an",sortable:!0},direction:{label:"Richtung",sortable:!0},created_at:{label:"Datum",sortable:!0}}}},computed:{bla:function(){return this.$store.getters.bla},items:function(){return this.$store.getters.loans},rows:function(){return this.items.length}},methods:{editLoan:function(e){this.$emit("loan-selected",e)}}},Je=Ge,Ye=(a("1b10"),Object(b["a"])(Je,qe,Ve,!1,null,null,null)),Ze=Ye.exports,Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row content-justify-center"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("Leihgabe "+e._s(e.createUpdateVerb()))]),a("div",{staticClass:"card-body"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("div",{staticClass:"form group row"},[a("label",{attrs:{for:"itemText"}},[e._v("Gegenstand")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.item,expression:"form.item"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Gegenstand",id:"itemText"},domProps:{value:e.form.item},on:{input:function(t){t.target.composing||e.$set(e.form,"item",t.target.value)}}})]),a("div",{staticClass:"form group row"},[a("label",{attrs:{for:"whitWHOMText"}},[e._v("Leihgeber/nehmer")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.whitWHOM,expression:"form.whitWHOM"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Leihgeber/nehmer",id:"whitWHOMText"},domProps:{value:e.form.whitWHOM},on:{input:function(t){t.target.composing||e.$set(e.form,"whitWHOM",t.target.value)}}})]),a("div",{staticClass:"form group row"},[a("label",{attrs:{for:"directionSelect"}},[e._v("Richtung")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.direction,expression:"form.direction"}],staticClass:"form-control",attrs:{id:"directionSelect"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.form,"direction",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"to"}},[e._v("verliehen")]),a("option",{attrs:{value:"from"}},[e._v("ausgeliehen")])])]),null!=e.form.done?a("div",{staticClass:"form group row"},[a("label",{attrs:{for:"doneCheckbox"}},[e._v("Erledigt")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.done,expression:"form.done"}],staticClass:"form-control",attrs:{type:"checkbox",id:"doneCheckbox"},domProps:{checked:Array.isArray(e.form.done)?e._i(e.form.done,null)>-1:e.form.done},on:{change:function(t){var a=e.form.done,r=t.target,n=!!r.checked;if(Array.isArray(a)){var o=null,s=e._i(a,o);r.checked?s<0&&e.$set(e.form,"done",a.concat([o])):s>-1&&e.$set(e.form,"done",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.form,"done",n)}}})]):e._e(),a("b-button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[e._v("Ok")]),a("b-button",{attrs:{variant:"warning"},on:{click:e.cancel}},[e._v("Cancel")])],1)])])])},Qe=[],Xe={name:"Edit",data:function(){return{form:{id:null,item:"",whitWHOM:"",direction:"",done:null}}},props:["item"],methods:{submit:function(){this.$store.dispatch("saveLoan",this.$data.form),this.$emit("done")},cancel:function(){this.$emit("done")},createUpdateVerb:function(){return null!=this.$props.item&&null!=this.$props.item.id?"editieren":"erstellen"}},mounted:function(){null!=this.$props.item&&(this.$data.form=this.$props.item)}},et=Xe,tt=Object(b["a"])(et,Ke,Qe,!1,null,null,null),at=tt.exports,rt={name:"Loans",components:{Edit:at,List:Ze},data:function(){return{currentItem:{set:!1}}},methods:{add:function(){this.$data.currentItem=Object.assign({},this.$data.currentItem,{id:null,item:"",with:"",direction:"from",set:!0})},done:function(){this.$data.currentItem={set:!1}},edit:function(e){this.$data.currentItem=Object.assign({},this.$data.currentItem,e),this.$data.currentItem.set=!0,this.$data.currentItem.done=!1}}},nt=rt,ot=Object(b["a"])(nt,Be,He,!1,null,null,null),st=ot.exports,it={name:"LoansView",components:{Loans:st}},ct=it,lt=Object(b["a"])(ct,We,Re,!1,null,null,null),ut=lt.exports,dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Watchlist")},ft=[],mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("Watchlist")]),e.edit?e._e():a("b-button",{staticClass:"mr-1",attrs:{size:"md"},on:{click:e.add}},[e._v("Neu")]),e.edit?a("Add",{on:{done:e.done}}):e._e(),e.edit||null==e.plannedMedia?e._e():a("List",{attrs:{items:e.plannedMedia}})],1)},pt=[],ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("b-form-group",{attrs:{label:"Name"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"nameText"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}})]),a("b-form-group",{attrs:{label:"Autor"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.author,expression:"form.author"}],staticClass:"form-control",attrs:{type:"text",id:"authorText"},domProps:{value:e.form.author},on:{input:function(t){t.target.composing||e.$set(e.form,"author",t.target.value)}}})]),a("b-form-group",{attrs:{label:"Typ"}},[a("b-form-radio-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("b-form-radio",{attrs:{value:"Film"}},[e._v("Film")]),a("b-form-radio",{attrs:{value:"Buch"}},[e._v("Buch")]),a("b-form-radio",{attrs:{value:"Serie"}},[e._v("Serie")]),a("b-form-radio",{attrs:{value:"Spiel"}},[e._v("Spiel")])],1)],1),a("b-button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[e._v("Ok")]),a("b-button",{attrs:{variant:"warning"},on:{click:e.cancel}},[e._v("Cancel")])],1)])},bt=[],vt={name:"Add",data:function(){return{form:{name:"",author:"",type:null}}},methods:{submit:function(){this.$emit("done",this.$data.form)},cancel:function(){this.$emit("done",null)}}},gt=vt,jt=Object(b["a"])(gt,ht,bt,!1,null,null,null),_t=jt.exports,yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("form",{staticClass:"row"},[a("div",{staticClass:"form-check form-control-lg"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedCategories,expression:"checkedCategories"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"Film",id:"filmCheck"},domProps:{checked:Array.isArray(e.checkedCategories)?e._i(e.checkedCategories,"Film")>-1:e.checkedCategories},on:{change:function(t){var a=e.checkedCategories,r=t.target,n=!!r.checked;if(Array.isArray(a)){var o="Film",s=e._i(a,o);r.checked?s<0&&(e.checkedCategories=a.concat([o])):s>-1&&(e.checkedCategories=a.slice(0,s).concat(a.slice(s+1)))}else e.checkedCategories=n}}}),a("label",{staticClass:"form-check-label",attrs:{for:"filmCheck"}},[e._v("Filme")])]),a("div",{staticClass:"form-check form-control-lg"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedCategories,expression:"checkedCategories"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"Serie",id:"seriesCheck"},domProps:{checked:Array.isArray(e.checkedCategories)?e._i(e.checkedCategories,"Serie")>-1:e.checkedCategories},on:{change:function(t){var a=e.checkedCategories,r=t.target,n=!!r.checked;if(Array.isArray(a)){var o="Serie",s=e._i(a,o);r.checked?s<0&&(e.checkedCategories=a.concat([o])):s>-1&&(e.checkedCategories=a.slice(0,s).concat(a.slice(s+1)))}else e.checkedCategories=n}}}),a("label",{staticClass:"form-check-label",attrs:{for:"seriesCheck"}},[e._v("Serien")])]),a("div",{staticClass:"form-check form-control-lg"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedCategories,expression:"checkedCategories"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"Buch",id:"bookCheck"},domProps:{checked:Array.isArray(e.checkedCategories)?e._i(e.checkedCategories,"Buch")>-1:e.checkedCategories},on:{change:function(t){var a=e.checkedCategories,r=t.target,n=!!r.checked;if(Array.isArray(a)){var o="Buch",s=e._i(a,o);r.checked?s<0&&(e.checkedCategories=a.concat([o])):s>-1&&(e.checkedCategories=a.slice(0,s).concat(a.slice(s+1)))}else e.checkedCategories=n}}}),a("label",{staticClass:"form-check-label",attrs:{for:"bookCheck"}},[e._v("BÃ¼cher")])]),a("div",{staticClass:"form-check form-control-lg"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedCategories,expression:"checkedCategories"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"Spiel",id:"gameCheck"},domProps:{checked:Array.isArray(e.checkedCategories)?e._i(e.checkedCategories,"Spiel")>-1:e.checkedCategories},on:{change:function(t){var a=e.checkedCategories,r=t.target,n=!!r.checked;if(Array.isArray(a)){var o="Spiel",s=e._i(a,o);r.checked?s<0&&(e.checkedCategories=a.concat([o])):s>-1&&(e.checkedCategories=a.slice(0,s).concat(a.slice(s+1)))}else e.checkedCategories=n}}}),a("label",{staticClass:"form-check-label",attrs:{for:"gameCheck"}},[e._v("Spiele")])])]),a("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage,"aria-controls":"watchlist-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),a("b-table",{attrs:{id:"watchlist-table",items:e.items,filter:e.checkedCategories,"filter-function":e.filterItems,fields:e.fields,"per-page":e.perPage,"current-page":e.currentPage,striped:"",hover:""},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button",{staticClass:"mr-1",attrs:{size:"md"},on:{click:function(a){return e.deleteMedium(t.item.id)}}},[e._v("ðŸ—‘")])]}}])})],1)},kt=[],wt={name:"List",data:function(){return{fields:[{key:"Name",sortable:!0},{key:"Autor",sortable:!0},{key:"Typ",sortable:!0},{key:"actions",label:"LÃ¶schen"}],perPage:30,currentPage:1,checkedCategories:["Film","Buch","Serie","Spiel"]}},props:["items"],computed:{rows:function(){return this.items.length}},methods:{deleteMedium:function(e){this.$store.dispatch("deletePlannedMedium",e)},filterItems:function(e){var t=!1;return this.$data.checkedCategories.forEach(function(a){e.Typ==a&&(t=!0)}),t}}},Ct=wt,xt=Object(b["a"])(Ct,yt,kt,!1,null,null,null),$t=xt.exports,Pt={name:"Watchlist",components:{Add:_t,List:$t},data:function(){return{edit:!1}},computed:Object(fe["b"])(["plannedMedia"]),methods:{add:function(){this.$data.edit=!0},done:function(e){e&&this.$store.dispatch("addPlannedMedia",e),this.$data.edit=!1}}},Ot=Pt,St=Object(b["a"])(Ot,mt,pt,!1,null,null,null),Lt=St.exports,Et={name:"WatchlistView",components:{Watchlist:Lt}},Mt=Et,At=Object(b["a"])(Mt,dt,ft,!1,null,null,null),Ft=At.exports,zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Media")},Nt=[],Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("List")},It=[],Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("legend",[e._v("Suche")]),a("b-row",[a("b-form-group",{attrs:{label:"Titel",labelFor:"titleFilter"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.title,expression:"filter.title"}],staticClass:"form-control",attrs:{type:"search",id:"titleFilter"},domProps:{value:e.filter.title},on:{input:function(t){t.target.composing||e.$set(e.filter,"title",t.target.value)}}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter.title=""}}},[e._v("Clear")])],1)],1),a("b-form-group",{attrs:{label:"Regie",labelFor:"directorFilter"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.director,expression:"filter.director"}],staticClass:"form-control",attrs:{type:"search",id:"directorFilter"},domProps:{value:e.filter.director},on:{input:function(t){t.target.composing||e.$set(e.filter,"director",t.target.value)}}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter.director=""}}},[e._v("Clear")])],1)],1),a("b-form-group",{attrs:{label:"Gesehen"}},[a("b-form-radio-group",{model:{value:e.filter.seen,callback:function(t){e.$set(e.filter,"seen",t)},expression:"filter.seen"}},[a("b-form-radio",{attrs:{value:"seen"}},[e._v("Ja")]),a("b-form-radio",{attrs:{value:"unseen"}},[e._v("Nein")]),a("b-form-radio",{attrs:{value:"both"}},[e._v("Beide")])],1)],1)],1),a("b-row",[a("b-col",[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1),a("b-col",[a("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage,"aria-controls":"media-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1),a("b-table",{attrs:{id:"media-table",items:e.media,filter:e.filter,"filter-function":e.filterItems,fields:e.fields,"per-page":e.perPage,"current-page":e.currentPage,striped:"",hover:""},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"Status",fn:function(t){return[a("b-button",{staticClass:"mr-1",attrs:{size:"md"},on:{click:function(a){return e.changeStatus(t.item)}}},[e._v(e._s("seen"==t.item.Status?"â˜‘":"â˜"))])]}}])})],1)},Ut=[],Wt={name:"List",data:function(){return{perPage:20,currentPage:1,rows:1,pageOptions:[10,20,50,100],filter:{title:"",director:"",seen:"both"},fields:{Name:{label:"Titel",sortable:!0},Regie:{label:"Regie",sortable:!0},Jahr:{label:"Jahr",sortable:!0},Sprachen:{label:"Sprachen"},Genre:{label:"Genres"},Status:{label:"Gesehen"}}}},computed:Object(fe["b"])(["media"]),watch:{media:function(){this.media&&(this.$data.rows=this.media.length)}},methods:{filterItems:function(e,t){var a=!0;if(t.title){var r=e.Name.toLowerCase(),n=t.title.toLowerCase();r.includes(n)||(a=!1)}if(t.director){r=e.Regie.toLowerCase(),n=t.director.toLowerCase();r.includes(n)||(a=!1)}return t.seen&&"both"!=t.seen&&t.seen!=e.Status&&(a=!1),"crap"==e.Status&&(a=!1),a},onFiltered:function(e){this.$data.rows=e.length},changeStatus:function(e){this.$store.dispatch("toggleMediaSeen",e)}}},Rt=Wt,Bt=Object(b["a"])(Rt,Tt,Ut,!1,null,null,null),Ht=Bt.exports,qt={name:"Media",components:{List:Ht}},Vt=qt,Gt=Object(b["a"])(Vt,Dt,It,!1,null,null,null),Jt=Gt.exports,Yt={name:"MediaView",components:{Media:Jt}},Zt=Yt,Kt=Object(b["a"])(Zt,zt,Nt,!1,null,null,null),Qt=Kt.exports;r["default"].use(x["a"]);var Xt=new x["a"]({mode:"history",routes:[{path:"/",name:"home",component:ke,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:Fe},{path:"/projects",name:"projects",component:ke,meta:{requiresAuth:!0}},{path:"/diary",name:"diary",component:Ue,meta:{requiresAuth:!0}},{path:"/media",name:"media",component:Qt},{path:"/watchlist",name:"watchlist",component:Ft},{path:"/loans",name:"loans",component:ut,meta:{requiresAuth:!0}}]});r["default"].use(fe["a"]);var ea=new fe["a"].Store({strict:!0,state:{currentUser:null,loading:!1,auth_error:null,projects:[],currentProject:null,loans:[],plannedMedia:null,diary:null,media:null},getters:{isLoggedIn:function(e){return null!=e.currentUser},currentUser:function(e){return e.currentUser},authError:function(e){return e.auth_error},projects:function(e){return e.projects},currentProject:function(e){return e.currentProject},loans:function(e){return e.loans},plannedMedia:function(e){return e.plannedMedia},diary:function(e){return e.diary},media:function(e){return e.media}},mutations:{login:function(e){e.currentUser=null,e.loading=!0,e.auth_error=null},loginSuccess:function(e,t){e.currentUser=Object.assign({},t.user,{token:t.access_token}),e.loading=!1,e.auth_error=null,localStorage.setItem("access_token",t.access_token),window.axios.defaults.headers.common["Authorization"]="Bearer ".concat(t.access_token)},loginFail:function(e,t){e.currentUser=null,e.loading=!1,null==t?e.auth_error="":"error"in t&&401==t.error.response.status?e.auth_error="Wrong email/password":e.auth_error=t},logout:function(e){e.currentUser=null,e.loading=!1,e.auth_error=null,localStorage.setItem("access_token",null),window.axios.defaults.headers.common["Authorization"]=""},projects:function(e,t){e.projects=t.data},currentProject:function(e,t){e.currentProject=t.data},loans:function(e,t){e.loans=t.data},setLoan:function(e,t){var a=e.loans.findIndex(function(e){return e["id"]==t.data["id"]});a>=0?r["default"].set(e.loans,a,t.data):e.loans.push(t.data)},plannedMedia:function(e,t){e.plannedMedia=t.data},diary:function(e,t){e.diary=t.data},media:function(e,t){e.media=t.data}},actions:{loadUser:function(e){var t=e.commit;if(null!=localStorage.getItem("access_token")){var a=localStorage.getItem("access_token");return window.axios.post("/api/me",{},{headers:{Authorization:"Bearer ".concat(a)}}).then(function(e){var r=Object.assign({},{user:e.data,access_token:a});t("loginSuccess",r)}).catch(function(e){t("loginFail",e)})}t("loginFail","No token saved locally.")},loadProjects:function(e){var t=e.commit;window.axios.get("/api/projects").then(function(e){t("projects",e.data)}).catch(function(e){null!=e.response&&401==e.response.status&&t("loginFail")})},loadProject:function(e,t){var a=e.commit;window.axios.get("/api/projects/".concat(t)).then(function(e){a("currentProject",e.data)}).catch(function(e){null!=e.response&&401==e.response.status&&a("loginFail")})},reloadProject:function(e){console.log(e),e.state.currentProject?window.axios.get("/api/projects/".concat(e.state.currentProject.id)).then(function(t){e.commit("currentProject",t.data)}).catch(function(t){null!=t.response&&401==t.response.status&&e.commit("loginFail")}):console.log("c")},unloadProject:function(e){var t=e.commit,a={data:null};t("currentProject",a)},loadLoans:function(e){var t=e.commit;window.axios.get("/api/loans").then(function(e){t("loans",e.data)}).catch(function(e){null!=e.response&&401==e.response.status&&t("loginFail")})},saveLoan:function(e,t){var a=e.commit,r=e.dispatch,n="",o="/api/loans";null==t.id?n="post":(n="put",o=o.concat("/".concat(t.id))),window.axios({method:n,url:o,data:t}).then(function(e){"Reload"==e.data?r("loadLoans"):a("setLoan",e.data)}).catch(function(e){})},loadPlannedMedia:function(e){var t=e.commit;window.axios.get("/api/watchlist").then(function(e){t("plannedMedia",e.data)}).catch(function(e){null!=e.response&&401==e.response.status&&t("loginFail")})},addPlannedMedia:function(e,t){var a=e.commit,r=e.dispatch;window.axios({url:"/api/watchlist",method:"post",data:t}).then(function(e){"Reload"==e.data&&r("loadPlannedMedia")}).catch(function(e){null!=e.response&&401==e.response.status&&a("loginFail")})},deletePlannedMedium:function(e,t){var a=e.commit,r=e.dispatch;window.axios.delete("/api/watchlist/".concat(t)).then(function(e){"Reload"==e.data&&r("loadPlannedMedia")}).catch(function(e){null!=e.response&&401==e.response.status&&a("loginFail")})},loadDiary:function(e){var t=e.commit;window.axios.get("/api/diary").then(function(e){t("diary",e.data)}).catch(function(e){null!=e.response&&401==e.response.status&&t("loginFail")})},saveDiaryEntry:function(e,t){var a=e.commit,r=e.dispatch;window.axios.post("/api/diary",t).then(function(e){"Reload"==e.data&&(r("loadDiary"),r("reloadProject"))}).catch(function(e){null!=e.response&&401==e.response.status&&a("loginFail")})},loadMedia:function(e){var t=e.commit;window.axios.get("/api/media").then(function(e){t("media",e.data)}).catch(function(e){null!=e.response&&401==e.response.status&&t("loginFail")})},saveMedia:function(e,t){var a=e.commit,r=e.dispatch;console.log(t),window.axios.put("/api/media/".concat(t.id),t).then(function(e){"Reload"==e.data&&r("loadMedia")}).catch(function(e){null!=e.response&&401==e.response.status&&a("loginFail")})},toggleMediaSeen:function(e,t){var a=e.dispatch,r=Object.assign({},t);"seen"==t.Status?r.Status="unseen":r.Status="seen",a("saveMedia",r)}}}),ta=a("203d"),aa=a.n(ta);r["default"].filter("formatDate",function(e){if(e)return aa()(String(e)).format("MM/DD/YYYY hh:mm")}),r["default"].config.productionTip=!1,j(ea,Xt),new r["default"]({router:Xt,store:ea,render:function(e){return e(C)}}).$mount("#app")},"64a9":function(e,t,a){},7130:function(e,t,a){"use strict";var r=a("8724"),n=a.n(r);n.a},8724:function(e,t,a){},ba64:function(e,t,a){}});